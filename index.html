<!DOCTYPE html>
<html>
<head>
  <title>AI Video Dubbing</title>
</head>
<body>
  <h2>영상 더빙 테스트</h2>

  <input type="file" id="videoInput" />
  <select id="lang">
    <option value="ko">한국어</option>
    <option value="en">English</option>
    <option value="ja">日本語</option>
  </select>

  <button onclick="upload()">더빙 시작</button>

  <video id="result" controls style="width:400px;"></video>

<script>
async function upload() {
  const file = document.getElementById("videoInput").files[0];
  const lang = document.getElementById("lang").value;

  const formData = new FormData();
  formData.append("video", file);
  formData.append("lang", lang);

  const res = await fetch("https://video-dub-786666752798.asia-northeast3.run.app/upload", {
  method: "POST",
  body: formData
});

  const blob = await res.blob();
  document.getElementById("result").src = URL.createObjectURL(blob);
}
</script>
</body>
</html>
